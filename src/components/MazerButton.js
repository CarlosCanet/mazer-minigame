import React, { useEffect, useState } from 'react';
import { Button } from '@mui/material';
import "./MazerButton.css";

function MazerButton({ reset, onClicked, rowIndex, colIndex, isClickable, error, iconSet }) {
    const [icon, setIcon] = useState(newIcon());
    const [clicks, setClicks] = useState(0);

    const handleClick = () => {
        if (isClickable) {
            if (clicks === 0) {
                setIcon(newIcon());
            }
            setClicks(clicks + 1);
            onClicked(icon, clicks);
        }
    };

    useEffect(() => {
        if (reset) {
            setIcon(newIcon());
            setClicks(0);
        }
    }, [reset]);

    return (
        <Button
            variant="contained"
            className="mazer-button"
            style={{
                width: '100%',
                minHeight: '100%',
                aspectRatio: '1 / 1',
                backgroundColor: error ? "#3a080a" : (clicks === 0) ? (isClickable ? '#3f675f' : '#064034') : (isClickable ? '#646366' : '#303233'),
                color: 'white',
                visibility: (clicks === 2) ? 'hidden' : 'visible',
            }}
            disabled={!isClickable}
            onClick={handleClick}
        >
            {(iconSet === 'mouseBirdFrog')  && (icon === '8far' ? <BirdIcon />   : (icon === '8close' ? <MouseIcon />  : <FrogIcon />))}
            {(iconSet === 'pawBearMonkey')  && (icon === '8far' ? <MonkeyIcon /> : (icon === '8close' ? <PawIcon />    : <BearIcon />))}
            {(iconSet === 'bananaTreeWolf') && (icon === '8far' ? <TreeIcon />   : (icon === '8close' ? <BananaIcon /> : <WolfIcon />))}
        </Button>
    );
}

const widthIcon = "2.5em", heightIcon = "2.5em";

function newIcon() {
    const randomNumber = Math.floor(Math.random() * 3);

    // Determine the icon based on the random number
    switch (randomNumber) {
        case 0:
            return '8close';
        case 1:
            return '3far';
        default:
            return '8far';
    }
}

function MouseIcon() {
    return (
        <svg fill="#03f9bf" width={widthIcon} height={heightIcon} viewBox="0 0 24 24" style={{ transform: 'scaleX(-1)' }}>
            <path d="M21.33 17.39c1.4 1.27.47 3.61-1.41 3.61h-8.86A5.04 5.04 0 0 1 6 15.94v-.05c-2.3-.47-4-2.48-4-4.89c0-2.75 2.22-5 5-5h2.5c.3 0 .5-.23.5-.5S9.8 5 9.5 5H7V3h2.5C10.88 3 12 4.13 12 5.5C12 6.89 10.88 8 9.5 8H7c-1.66 0-3 1.33-3 3c0 1.37.92 2.5 2.14 2.87c.56-2.2 2.53-3.87 4.92-3.87c.8 0 1.6.22 2.3.55c-1.41.79-2.36 2.25-2.36 3.95c0 1.25.5 2.37 1.33 3.17l.7-.7c-.65-.61-1.03-1.5-1.03-2.47c0-2.59 2.34-3.5 3.5-3.5c2.08 0 3.95 1.89 3.44 4.23zM18 19c.56 0 1-.44 1-1s-.44-1-1-1s-1 .44-1 1s.44 1 1 1" />
        </svg>
    );
}

function BirdIcon() {
    return (
        <svg fill="#03f9bf" stroke="#03f9bf" width={widthIcon} height={heightIcon} viewBox="0 0 24 24" style={{ transform: 'scaleX(-1)' }}>
            <g strokeLinecap="round" strokeLinejoin="round" strokeWidth="2">
                <path d="M16 7h.01M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20" /><path d="m20 7l2 .5l-2 .5M10 18v3m4-3.25V21m-7-3a6 6 0 0 0 3.84-10.61" />
            </g>
        </svg>
    );
}

function FrogIcon() {
    return (
        <svg fill="#03f9bf" width={widthIcon} height={heightIcon} viewBox="0 0 512 512">
            <path d="M335.7 88.94c-4.742.194-9.563 1.486-14.204 4.165c-38.934 22.48-89.77 21.953-127.79.002c-6.09-3.516-12.285-4.61-18.145-3.892a46.38 46.38 0 0 1 9.438 28.09c0 23.15-17.037 42.83-39.176 45.095c-12.775 14.92-21.553 31.807-24.386 49.983c44.73-23.79 90.947-35.572 137.064-35.508c46.15.064 92.197 11.987 136.56 35.62c-2.69-18.15-11.216-35.043-23.794-49.92c-.585.026-1.17.048-1.76.048c-24.18 0-43.447-20.7-43.447-45.318c0-10.64 3.6-20.543 9.64-28.364zm-194.15 3.216c-12.67 0-23.277 10.85-23.277 25.15c0 14.297 10.608 25.147 23.278 25.147c12.67 0 23.276-10.85 23.276-25.148s-10.606-25.15-23.275-25.15zm227.956 0c-12.67 0-23.277 10.85-23.277 25.15c0 14.297 10.607 25.147 23.276 25.147c12.67 0 23.277-10.85 23.277-25.148s-10.608-25.15-23.277-25.15zm67.572 93.367c-8.525.088-17.893 1.546-27.853 4.243c6.926 19.457 8.57 40.725 2.695 62.656c-4.26 15.896.933 37.475 11.7 54.758l4.69 7.53l-7.02 5.43c-19.765 15.28-36.44 25.107-46.104 35.264c-9.664 10.158-13.887 19.59-10.915 40.875l1.525 10.91c3.596 4.7 7.678 9.43 12.142 14.06c19.876-14.55 36.01-23.887 68.344-4.094c-6.738-18.804 15.938-29.762 46.72-29.78c-36.91-15.88-64.98-25.62-86.438-30.376c67.492-72.188 97.182-127.96 66-159.188c-8.172-8.183-19.356-12.034-33.28-12.28a80.764 80.764 0 0 0-2.204-.01zm-361.617.002a79.679 79.679 0 0 0-2.397.006c-13.925.248-25.14 4.1-33.313 12.282c-31.182 31.227-1.492 87 66 159.188c-21.456 4.756-49.528 14.497-86.438 30.375c30.782.02 53.458 10.977 46.72 29.78c32.332-19.792 48.468-10.454 68.343 4.095c6.713-6.962 12.572-14.146 17.188-21.12l.537-3.85c2.972-21.283-1.25-30.716-10.914-40.874c-9.664-10.157-26.34-19.984-46.106-35.265l-7.02-5.427l4.692-7.53c10.73-17.228 15.858-39.233 11.7-54.76c-5.782-21.572-4.185-42.44 2.536-61.56c-11.336-3.388-21.954-5.216-31.527-5.338zm183.038 9.66c-46.096-.065-92.3 12.827-137.574 38.846a87.261 87.261 0 0 0 2.494 13.31v.002c5.453 20.354.593 42.93-9.484 62.297c15.89 11.634 30.343 20.526 41.478 32.23c10.36 10.89 16.795 25.132 16.955 43.712c-1.096 16.308-9.157 39.273-22.347 59.244c24.59-14.237 42.134-15.333 45.29 3.492c14.097-17.783 25.698-20.386 38.985-8.035c-3.745-31.452-11.117-52.887-17.258-65.097c-14.896-36.567-42.816-61.484-73.742-83.424l11.36-16.014c38.788 27.517 76.798 62.663 89.124 119.566c9.628.705 19.25.65 28.85-.16c12.362-56.81 50.334-91.918 89.085-119.408l11.36 16.016c-31.19 22.127-59.333 47.28-74.13 84.363c-6.045 12.357-13.14 33.493-16.793 64.158c13.29-12.35 24.89-9.748 38.987 8.035c3.153-18.825 20.697-17.73 45.288-3.492c-13.51-20.455-21.645-44.058-22.42-60.424c.415-18.01 6.81-31.872 16.95-42.533c11.135-11.705 25.586-20.595 41.474-32.23c-10.064-19.29-14.99-41.736-9.48-62.302a88.613 88.613 0 0 0 2.51-13.266c-44.85-25.79-90.852-38.82-136.964-38.886z" />
        </svg>
    );
}

function PawIcon() {
    return (
        <svg fill="#03f9bf" viewBox="0 0 512 512" height={heightIcon} width={widthIcon} >
            <path d="M226.5 92.9c14.3 42.9-.3 86.2-32.6 96.8s-70.1-15.6-84.4-58.5.3-86.2 32.6-96.8 70.1 15.6 84.4 58.5zM100.4 198.6c18.9 32.4 14.3 70.1-10.2 84.1s-59.7-.9-78.5-33.3-14.4-70.1 10.1-84.1 59.7.9 78.5 33.3zM69.2 401.2C121.6 259.9 214.7 224 256 224s134.4 35.9 186.8 177.2c3.6 9.7 5.2 20.1 5.2 30.5v1.6c0 25.8-20.9 46.7-46.7 46.7-11.5 0-22.9-1.4-34-4.2l-88-22c-15.3-3.8-31.3-3.8-46.6 0l-88 22c-11.1 2.8-22.5 4.2-34 4.2-25.8 0-46.7-20.9-46.7-46.7v-1.6c0-10.4 1.6-20.8 5.2-30.5zm352.6-118.5c-24.5-14-29.1-51.7-10.2-84.1s54-47.3 78.5-33.3 29.1 51.7 10.2 84.1-54 47.3-78.5 33.3zm-111.7-93c-32.3-10.6-46.9-53.9-32.6-96.8s52.1-69.1 84.4-58.5 46.9 53.9 32.6 96.8-52.1 69.1-84.4 58.5z" />
        </svg>
    );
}

function MonkeyIcon() {
    return (
        <svg fill="#03f9bf" height={heightIcon} width={widthIcon} version="1.1" id="Layer_1" viewBox="0 0 296.999 296.999">
            <g>
                <g>
                    <g>
                        <path d="M148.5,171.704c-25.762,0-48.683,31.175-48.683,55.749c0,22.947,21.839,41.617,48.683,41.617s48.683-18.67,48.683-41.617 C197.183,202.879,174.262,171.704,148.5,171.704z M121.195,197.929c1.05-4.201,5.303-6.754,9.51-5.704l6.851,1.713 c4.201,1.051,6.755,5.309,5.704,9.51c-0.891,3.562-4.088,5.941-7.601,5.941c-0.63,0-1.269-0.077-1.909-0.236l-6.851-1.713 C122.698,206.388,120.144,202.13,121.195,197.929z M162.631,256.491h-28.263c-4.33,0-7.842-3.511-7.842-7.842 c0-4.33,3.511-7.842,7.842-7.842h6.29v-20.421c0-4.33,3.511-7.842,7.842-7.842s7.842,3.511,7.842,7.842v20.421h6.29 c4.33,0,7.842,3.511,7.842,7.842C170.473,252.98,166.962,256.491,162.631,256.491z M170.101,207.439l-6.851,1.713 c-0.638,0.16-1.279,0.236-1.909,0.236c-3.514,0-6.71-2.378-7.601-5.941c-1.051-4.201,1.503-8.459,5.704-9.51l6.851-1.713 c4.202-1.049,8.459,1.503,9.51,5.704C176.856,202.13,174.302,206.388,170.101,207.439z" />
                        <path d="M225.445,135.599c0-19.052-15.5-34.552-34.552-34.552s-34.552,15.5-34.552,34.552c0,4.33-3.511,7.842-7.842,7.842 s-7.842-3.511-7.842-7.842c0-19.052-15.5-34.552-34.552-34.552s-34.552,15.5-34.552,34.552c0,9.292,4.327,18.242,9.803,29.572 c3.901,8.07,8.369,17.34,12.141,28.611c2.542-4.661,5.543-9.161,8.967-13.339c12.906-15.749,29.255-24.423,46.035-24.423 c16.78,0,33.128,8.673,46.035,24.423c3.424,4.179,6.425,8.678,8.967,13.339c3.771-11.271,8.24-20.541,12.141-28.611 C221.119,153.841,225.445,144.891,225.445,135.599z M111.652,141.145c-1.461,1.46-3.48,2.294-5.548,2.294 c-2.059,0-4.078-0.834-5.548-2.294c-1.451-1.461-2.294-3.48-2.294-5.548c0-2.059,0.842-4.078,2.294-5.548 c1.47-1.451,3.489-2.294,5.548-2.294c2.068,0,4.087,0.842,5.548,2.294c1.46,1.47,2.294,3.489,2.294,5.548 C113.945,137.664,113.112,139.684,111.652,141.145z M196.439,141.145c-1.461,1.46-3.48,2.294-5.548,2.294 c-2.059,0-4.078-0.834-5.538-2.294c-1.461-1.461-2.303-3.48-2.303-5.548c0-2.059,0.842-4.078,2.303-5.548 c1.461-1.451,3.48-2.294,5.538-2.294c2.068,0,4.087,0.842,5.548,2.294c1.46,1.47,2.294,3.489,2.294,5.548 C198.732,137.664,197.898,139.684,196.439,141.145z" />
                        <path d="M286.328,118.57c-6.972-7.006-16.257-10.864-26.142-10.864c-0.344,0-0.689,0.005-1.037,0.015 c-7.372-22.119-21.537-41.926-40.204-56.105c-20.4-15.497-44.76-23.688-70.445-23.688s-50.045,8.191-70.447,23.688 C59.385,65.794,45.22,85.602,37.849,107.721c-0.347-0.011-0.693-0.015-1.037-0.015c-9.885,0-19.169,3.858-26.142,10.864 C3.744,125.528-0.046,134.75,0,144.54c0.177,37.259,32.537,68.699,52.768,68.699c0.503,0,1-0.026,1.493-0.078 c8.748,11.974,19.873,22.338,32.417,30.206c-1.645-5.057-2.545-10.392-2.545-15.915c0.001-1.673,0.233-3.74,0.176-5.464 c-0.715-21.811-10.712-36.834-17.072-49.99c-6.098-12.618-11.366-23.515-11.366-36.398c0-27.7,22.535-50.235,50.235-50.235 c17.8,0,33.468,9.306,42.393,23.309c8.925-14.003,24.593-23.309,42.393-23.309c27.7,0,50.235,22.535,50.235,50.235 c0,12.883-5.268,23.78-11.366,36.398c-6.36,13.156-16.356,28.181-17.072,49.992c-0.057,1.723,0.176,3.79,0.176,5.463 c0,5.523-0.9,10.86-2.546,15.917c12.543-7.869,23.671-18.235,32.418-30.208c0.493,0.052,0.991,0.078,1.493,0.078 c20.231,0,52.592-31.44,52.768-68.699C297.044,134.751,293.254,125.529,286.328,118.57z" />
                    </g>
                </g>
            </g>
        </svg>
    );
}

function BearIcon() {
    return (
        <svg fill="#03f9bf" version="1.1" id="Layer_1" width={widthIcon} height={heightIcon} viewBox="0 0 585.225 585.225">
            <g>
                <g id="Layer_1_134_">
                    <g>
                        <path d="M489.6,36.975c-44.625,0-81.6,30.6-90.525,71.4H183.6c-10.2-40.8-47.175-71.4-90.525-71.4 C42.075,36.975,0,79.049,0,130.049c0,35.7,20.4,67.575,51,82.875V313.65c0,130.049,112.2,234.6,242.25,234.6 c130.051,0,242.25-104.551,242.25-234.6V212.924c29.324-15.3,49.725-47.175,49.725-82.875 C583.949,79.049,541.875,36.975,489.6,36.975z M169.575,229.5c0-14.025,11.475-26.775,26.775-26.775s26.775,11.475,26.775,26.775 s-11.475,26.775-26.775,26.775S169.575,244.799,169.575,229.5z M290.7,502.35c-48.45,0-89.25-52.275-89.25-116.025 s39.525-116.025,89.25-116.025c49.726,0,89.249,52.275,89.249,116.025S340.426,502.35,290.7,502.35z M386.324,256.274 c-15.299,0-26.773-11.475-26.773-26.775c0-14.025,11.475-26.775,26.773-26.775c14.025,0,26.775,11.475,26.775,26.775 S401.625,256.274,386.324,256.274z" />
                        <path d="M244.8,337.875c-7.65,0-15.3,3.824-17.85,10.199c-2.55,7.65-1.275,15.301,3.825,20.4l45.9,45.9 c7.65,7.65,20.399,7.65,28.049,0l45.9-45.9c5.1-5.1,7.65-12.75,3.824-20.4c-2.549-7.65-10.199-10.199-17.85-10.199H244.8z" />
                    </g>
                </g>
            </g>
        </svg>
    );
}

function TreeIcon() {
    return (
        <svg viewBox="0 0 512 512" fill="#03f9bf" height={heightIcon} width={widthIcon} >
            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)">
                <path d="M2513 5110 c-19 -8 -1170 -1461 -1214 -1534 -32 -52 -20 -110 30 -143 22 -16 59 -19 267 -23 l241 -5 -410 -525 c-225 -289 -422 -545 -438 -569 -33 -50 -36 -79 -14 -121 27 -52 41 -55 298 -60 l238 -5 -417 -540 c-229 -297 -425 -553 -435 -570 -11 -16 -19 -40 -19 -53 0 -32 26 -79 53 -94 17 -10 178 -14 718 -18 l695 -5 -22 -110 c-44 -218 -114 -391 -204 -509 -28 -36 -55 -78 -61 -92 -14 -39 6 -91 45 -115 30 -18 58 -19 696 -19 638 0 666 1 696 19 39 24 59 76 45 115 -6 14 -33 56 -61 92 -90 118 -160 291 -204 509 l-22 110 695 5 c540 4 701 8 718 18 27 15 53 62 53 94 0 13 -8 37 -19 53 -10 17 -206 273 -435 570 l-417 540 238 5 c165 3 245 9 260 18 34 19 53 53 53 93 0 33 -44 92 -438 600 l-439 564 241 5 c167 3 248 9 263 18 34 19 53 53 53 93 0 34 -53 105 -606 809 -385 491 -614 774 -630 781 -30 11 -61 11 -91 -1z" />
            </g>
        </svg>

    );
}

function BananaIcon() {
    return (
        <svg viewBox="0 0 512 512" fill="#03f9bf" height={heightIcon} width={widthIcon} >
            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)">
                <path d="M1851 4017 c-132 -53 -159 -67 -185 -100 -28 -35 -31 -45 -31 -110 l0 -72 143 -207 c78 -114 142 -210 142 -213 0 -4 -18 -27 -39 -53 -69 -83 -119 -201 -146 -345 -13 -66 -65 -484 -65 -518 0 -12 -119 -47 -218 -64 -109 -19 -296 -19 -405 0 -47 8 -131 31 -187 51 -129 46 -198 45 -257 -2 -81 -66 -101 -170 -48 -259 61 -107 212 -222 370 -286 81 -32 219 -62 355 -76 l75 -8 -49 -32 c-108 -71 -228 -82 -431 -42 -147 29 -281 30 -353 1 -66 -26 -130 -74 -168 -127 -40 -55 -41 -135 -3 -186 84 -110 352 -166 840 -176 346 -7 447 5 626 77 218 88 392 272 477 505 6 17 11 13 38 -30 107 -173 256 -323 398 -403 108 -60 648 -209 975 -269 135 -25 173 -27 375 -27 173 0 247 4 319 17 243 46 362 113 392 221 12 45 -3 111 -33 143 -34 38 -178 103 -408 183 -230 81 -489 182 -595 232 l-70 33 85 7 c103 10 238 47 322 89 36 18 89 58 124 94 51 50 66 72 79 119 28 95 4 168 -69 211 -89 52 -283 67 -566 45 -187 -15 -307 -14 -380 5 -66 16 -300 125 -318 148 -5 6 -31 66 -57 132 -115 294 -277 535 -429 640 -30 20 -58 45 -61 54 -4 9 -49 137 -101 285 -52 149 -103 284 -114 301 -10 17 -37 41 -58 53 -66 37 -115 30 -291 -41z" />
            </g>
        </svg>

    );
}

function WolfIcon() {
    return (
        <svg viewBox="0 0 512 512" fill="#03f9bf" height={heightIcon} width={widthIcon} >
            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)">
                <path d="M4236 4899 c-20 -6 -115 -93 -280 -258 -207 -206 -269 -261 -353 -315 -163 -107 -309 -166 -408 -166 -150 0 -349 -114 -575 -327 l-105 -100 -80 -7 c-214 -17 -390 -90 -576 -236 -114 -90 -149 -132 -149 -178 1 -20 6 -46 13 -57 20 -34 137 -138 225 -200 46 -31 82 -61 80 -65 -2 -5 -210 -275 -462 -602 l-460 -594 -130 -58 c-299 -133 -614 -316 -852 -494 l-124 -93 0 -575 0 -574 1137 2 1137 3 28 165 c15 91 32 196 39 235 9 53 18 75 39 97 49 48 133 34 166 -27 17 -32 17 -38 -15 -231 -18 -110 -35 -209 -38 -221 l-5 -23 395 0 395 0 63 187 c52 158 70 199 117 267 120 176 238 465 296 726 49 223 86 561 86 791 0 112 19 203 75 367 87 254 206 499 351 723 223 344 489 876 526 1053 10 48 10 60 -5 91 -23 49 -65 65 -172 65 l-86 0 8 38 c14 67 8 213 -11 272 -31 92 -85 187 -145 250 -60 65 -97 82 -145 69z m57 -311 c41 -86 42 -96 12 -104 -34 -8 -113 1 -148 17 l-28 13 63 63 c34 35 66 63 69 63 4 0 19 -24 32 -52z m-933 -765 c34 -20 50 -52 50 -99 0 -31 -10 -46 -67 -106 -96 -99 -132 -115 -194 -82 -41 21 -64 75 -49 118 10 31 141 169 170 179 29 10 62 7 90 -10z" />
                <path d="M2306 4679 c-897 -109 -1641 -788 -1830 -1669 -63 -295 -62 -638 5 -920 25 -110 91 -311 100 -308 3 2 94 45 200 97 l194 94 378 489 377 488 -42 37 c-171 149 -220 253 -184 391 20 80 48 123 128 198 213 199 445 315 709 355 l84 13 93 85 c232 214 430 319 644 341 69 7 105 17 172 49 47 21 95 46 107 55 22 15 22 16 -37 42 -138 61 -311 114 -478 145 -128 24 -483 35 -620 18z" />
                <path d="M4575 3157 c-10 -17 -67 -110 -127 -206 -130 -209 -207 -359 -281 -546 -99 -248 -108 -290 -117 -531 -14 -359 -59 -669 -129 -901 -11 -35 -15 -63 -10 -63 19 0 279 271 347 362 237 317 378 670 423 1062 15 128 6 452 -15 571 -19 101 -55 254 -65 272 -4 9 -13 2 -26 -20z" />
            </g>
        </svg>
    );
}

export default MazerButton;